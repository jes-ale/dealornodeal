{"version":3,"file":"default-Coj1xHSN.js","sources":["../../../../components/Blocks/Breadcrumb.vue","../../../../components/Blocks/Header.vue","../../../../components/Loader.vue","../../../../layouts/default.vue"],"sourcesContent":["<script setup>\nimport { computed } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\n\nconst route = useRoute();\nconst router = useRouter();\n\nconst breadcrumbs = computed(() => {\n    const paths = route.path.split('/').filter(path => path);\n    return paths.map((path, index) => ({\n        name: path,\n        path: '/' + paths.slice(0, index + 1).join('/'),\n    }));\n});\n\nconst navigateTo = path => {\n    router.push(path);\n};\n\nconst navigateHome = () => {\n    // Use replace to go back to the app index and reset history\n    router.replace('/');\n};\n</script>\n\n<template>\n    <nav aria-label=\"breadcrumb\" class=\"w-full px-2\">\n        <ol class=\"flex space-x-2 w-full\">\n            <li>\n                <!-- Home button -->\n                <span @click=\"navigateHome\"\n                    class=\"cursor-pointer text-rose-700 font-bold hover:text-rose-50 hover:bg-rose-700 px-2 py-1\">\n                    Home\n                </span>\n                <span v-if=\"breadcrumbs.length > 0\" class=\"px-2 py-1\"> / </span>\n            </li>\n            <li v-for=\"(breadcrumb, index) in breadcrumbs\" :key=\"index\">\n                <span v-if=\"index < breadcrumbs.length - 1\" @click=\"navigateTo(breadcrumb.path)\"\n                    class=\"cursor-pointer text-rose-700 font-bold hover:text-rose-50 hover:bg-rose-700 px-2 py-1\">\n                    {{ breadcrumb.name }}\n                </span>\n                <span v-else class=\"font-bold px-2 py-1\">\n                    {{ breadcrumb.name }}\n                </span>\n                <span v-if=\"index < breadcrumbs.length - 1\"> / </span>\n            </li>\n        </ol>\n    </nav>\n</template>\n\n<style scoped>\n/* Additional styles can be added here */\n</style>\n","<script setup>\nimport { Icon } from '@iconify/vue'\nimport { usePocketBase } from '@/composables/usePocketBase';\nimport Avatar from '~/components/Blocks/Avatar.vue';\nimport Breadcrumb from '~/components/Blocks/Breadcrumb.vue';\nimport InternalUsers from '~/components/Blocks/InternalUsers.vue';\nimport { EventBus } from '~/event-bus.ts';\n\nconst { pb, user, isLoggedIn, logout } = usePocketBase();\nconst isMenuOpen = ref(false);\nconst searchQuery = ref('');\n\nfunction toggleMenu() {\n    isMenuOpen.value = !isMenuOpen.value;\n}\n\nconst avatar = ref(\"\")\nconst roles = ref(\"\")\n\nconst router = useRouter()\nconst goback = () => {\n    router.back()\n};\n\nwatch(user, async () => {\n    try {\n        if (isLoggedIn && user.value) {\n            EventBus.emit('loading', { show: true });\n            const record = await pb.collection(user?.value.collectionName).getOne(user.value.id, {\n                expand: 'roles',\n                requestKey: \"header_watch_auth\",\n            });\n            let url = pb.files.getUrl(record, record.avatar);\n            avatar.value = url\n            let arrayRoles = []\n            for (let id of record.roles) {\n                const rol = await pb.collection('roles').getOne(id)\n                arrayRoles.push(rol.name)\n            }\n            roles.value = arrayRoles.join(', ')\n        }\n    } catch (e) {\n        console.error(e)\n    } finally {\n        EventBus.emit('loading', { show: false });\n    }\n})\n</script>\n\n<template>\n    <header\n        class=\"shadow-lg form-wrapper bg-opacity-25 bg-white py-2 px-4 border-b border-black flex items-center justify-between w-full h-20\">\n        <!-- User Information -->\n        <div class=\"flex items-center space-x-2\">\n            <button @click=\"goback\"\n                class=\"p-2 h-full w-auto flex space-x-1 items-center justify-between border border-black hover:bg-rose-100\">\n                <Icon icon=\"carbon:caret-left\" class=\"\" />\n            </button>\n        </div>\n        <!-- Breadcrumb -->\n        <div class=\"flex w-full\">\n            <Breadcrumb />\n        </div>\n\n        <!-- Account Actions Menu -->\n        <div class=\"flex items-center space-x-2 justify-end w-full\">\n            <div class=\"\">\n                <span class=\"text-lg font-bold block\">{{ user?.username }}</span>\n                <span class=\"text-sm font-light block\">{{ roles }}</span>\n            </div>\n\n            <div class=\"relative\">\n                <img :src=\"avatar\" class=\"w-16 h-16 rounded-full shadow-md border border-neutral-900 cursor-pointer\"\n                    @click=\"toggleMenu\" />\n                <div v-show=\"isMenuOpen\" @click=\"toggleMenu\"\n                    class=\"origin-top-right absolute right-0 mt-0 w-48 shadow-lg bg-rose-100 ring-1 ring-black ring-opacity-5 divide-y divide-black border border-black\"\n                    role=\"menu\" aria-orientation=\"vertical\" aria-labelledby=\"user-menu\">\n                    <div class=\"py-1\" role=\"none\">\n                        <a href=\"#\" class=\"block px-4 py-2 text-sm text-neutral-900 hover:bg-rose-100\"\n                            role=\"menuitem\">Profile</a>\n                        <a href=\"#\" class=\"block px-4 py-2 text-sm text-neutral-900 hover:bg-rose-100\"\n                            role=\"menuitem\">Settings</a>\n                        <a href=\"#\" @click=\"logout\" class=\"block px-4 py-2 text-sm text-neutral-900 hover:bg-rose-100\"\n                            role=\"menuitem\">Logout</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </header>\n</template>\n\n<style scoped>\n/* Additional Tailwind classes or custom styles can be added here */\n</style>\n","<script setup lang=\"ts\">\nimport { EventBus } from '~/event-bus.js'\nimport { ref, onMounted } from 'vue'\n\nconst show = ref(false)\n\nconst handleLoading = (data: any) => {\n  show.value = data.show\n}\n\nonMounted(() => {\n  EventBus.on('loading', (data: any) => {\n    handleLoading(data)\n  })\n})\n</script>\n\n<template>\n  <div>\n    <div class=\"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 z-50\" v-if=\"show\">\n      <svg width=\"38\" height=\"38\" viewBox=\"0 0 38 38\" xmlns=\"http://www.w3.org/2000/svg\">\n        <defs>\n          <linearGradient x1=\"8.042%\" y1=\"0%\" x2=\"65.682%\" y2=\"23.865%\" id=\"a\">\n            <stop stop-color=\"#ffe4e6\" stop-opacity=\"0\" offset=\"0%\" />\n            <stop stop-color=\"#fecdd3\" stop-opacity=\".2\" offset=\"20%\" />\n            <stop stop-color=\"#fda4af\" stop-opacity=\".4\" offset=\"40%\" />\n            <stop stop-color=\"#fb7185\" stop-opacity=\".6\" offset=\"60%\" />\n            <stop stop-color=\"#f43f5e\" stop-opacity=\".8\" offset=\"80%\" />\n            <stop stop-color=\"#e11d48\" offset=\"100%\" />\n          </linearGradient>\n        </defs>\n        <g fill=\"none\" fill-rule=\"evenodd\">\n          <g transform=\"translate(1 1)\">\n            <path d=\"M36 18c0-9.94-8.06-18-18-18\" id=\"Oval-2\" stroke=\"url(#a)\" stroke-width=\"2\">\n              <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 18 18\" to=\"360 18 18\" dur=\"0.9s\"\n                repeatCount=\"indefinite\" />\n            </path>\n            <circle fill=\"#e11d48\" cx=\"36\" cy=\"18\" r=\"1\">\n              <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 18 18\" to=\"360 18 18\" dur=\"0.9s\"\n                repeatCount=\"indefinite\" />\n            </circle>\n          </g>\n        </g>\n      </svg>\n    </div>\n  </div>\n</template>\n","<script lang=\"ts\" setup>\nimport { Icon } from '@iconify/vue'\nimport Loader from '~/components/Loader.vue';\nimport Toast from '~/components/Toast.vue';\nimport Header from '~/components/Blocks/Header.vue';\nimport { EventBus } from '~/event-bus.ts';\nimport { ref, computed, onMounted, onBeforeMount } from 'vue';\n\nconst { isLoggedIn } = usePocketBase()\n\nconst { start } = usePocketBase();\nonBeforeMount(async () => {\n  try {\n    EventBus.emit('loading', { show: true });\n    await start()\n  } catch (error) {\n    console.error('Error Loading Auth:', error);\n  } finally {\n    EventBus.emit('loading', { show: false });\n  }\n})\n\nconst { t } = useI18n()\n\n</script>\n<template>\n  <main class=\"relative flex flex-col no-scrollbar overflow-y-scroll h-screen w-screen  text-sm bg-rose-200 text-neutral-900\n      font-sans subpixel-antialiased slashed-zero diagonal-fractions\">\n    <Toast />\n    <Loader />\n    <!-- Main panel start -->\n    <section as=\"div\" class=\"w-full h-full\" v-if=\"isLoggedIn\">\n      <Header class=\"w-screen h-auto\" />\n      <slot />\n    </section>\n\n    <section as=\"div\" class=\"w-full h-full\" v-else>\n      <div class=\"w-full h-full flex \">\n        <div class=\"flex flex-col space-y-2 items-center justify-center w-full h-full px-16\">\n          <div\n            class=\"font-bold bg-opacity-25 h-12 w-full lg:w-1/5 cursor-pointer flex space-x-2 items-center justify-center   transform transition-transform hover:text-rose-500 hover:font-bold hover:scale-90\">\n            ~ 401 Access Denied ~\n          </div>\n          <NuxtLink to=\"/login\"\n            class=\"bg-opacity-25 bg-neutral-50 h-12 w-full lg:w-1/5 cursor-pointer flex space-x-2 items-center justify-center bg-light-200 border border-black transform transition-transform hover:text-rose-500 hover:font-bold hover:scale-90\">\n            <span>{{ t('Access') }} </span>\n            <Icon icon=\"mdi:terminal\" />\n          </NuxtLink>\n          <div to=\"/contact\"\n            class=\"bg-opacity-25 bg-neutral-50 h-12 w-full lg:w-1/5 cursor-pointer flex space-x-2 items-center justify-center bg-light-200 border border-black transform transition-transform hover:text-rose-500 hover:font-bold hover:scale-90\">\n            <span>{{ t('Contact') }} </span>\n            <Icon icon=\"mdi:send\" class=\"\" />\n          </div>\n          <div to=\"/about\"\n            class=\"bg-opacity-25 bg-neutral-50 h-12 w-full lg:w-1/5 cursor-pointer flex space-x-2 items-center justify-center bg-light-200 border border-black transform transition-transform hover:text-rose-500 hover:font-bold hover:scale-90\">\n            <span>{{ t('About') }} </span>\n            <Icon icon=\"mdi:about\" class=\"\" />\n          </div>\n        </div>\n      </div>\n    </section>\n  </main>\n</template>\n"],"names":["useRouter"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,UAAM,QAAQ,SAAQ;AACP,cAAY;AAE3B,UAAM,cAAc,SAAS,MAAM;AAC/B,YAAM,QAAQ,MAAM,KAAK,MAAM,GAAG,EAAE,OAAO,UAAQ,IAAI;AACvD,aAAO,MAAM,IAAI,CAAC,MAAM,WAAW;AAAA,QAC/B,MAAM;AAAA,QACN,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,CAAC,EAAE,KAAK,GAAG;AAAA,MACjD,EAAC;AAAA,IACN,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLD,UAAM,EAAE,IAAI,MAAM,YAAY,OAAQ,IAAG,cAAa;AACtD,UAAM,aAAa,IAAI,KAAK;AACR,QAAI,EAAE;AAM1B,UAAM,SAAS,IAAI,EAAE;AACrB,UAAM,QAAQ,IAAI,EAAE;AAELA,gBAAW;AAK1B,UAAM,MAAM,YAAY;AACpB,UAAI;AACA,YAAI,cAAc,KAAK,OAAO;AAC1B,mBAAS,KAAK,WAAW,EAAE,MAAM,KAAM,CAAA;AACvC,gBAAM,SAAS,MAAM,GAAG,WAAW,6BAAM,MAAM,cAAc,EAAE,OAAO,KAAK,MAAM,IAAI;AAAA,YACjF,QAAQ;AAAA,YACR,YAAY;AAAA,UAC5B,CAAa;AACD,cAAI,MAAM,GAAG,MAAM,OAAO,QAAQ,OAAO,MAAM;AAC/C,iBAAO,QAAQ;AACf,cAAI,aAAa,CAAE;AACnB,mBAAS,MAAM,OAAO,OAAO;AACzB,kBAAM,MAAM,MAAM,GAAG,WAAW,OAAO,EAAE,OAAO,EAAE;AAClD,uBAAW,KAAK,IAAI,IAAI;AAAA,UAC3B;AACD,gBAAM,QAAQ,WAAW,KAAK,IAAI;AAAA,QACrC;AAAA,MACJ,SAAQ,GAAG;AACR,gBAAQ,MAAM,CAAC;AAAA,MACvB,UAAc;AACN,iBAAS,KAAK,WAAW,EAAE,MAAM,MAAO,CAAA;AAAA,MAC3C;AAAA,IACL,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;AC1CK,UAAA,OAAO,IAAI,KAAK;;;;;;;;;;;;;;;;;;;;;;ACIhB,UAAA,EAAE,eAAe;AAEL,kBAAc;AAY1B,UAAA,EAAE,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}