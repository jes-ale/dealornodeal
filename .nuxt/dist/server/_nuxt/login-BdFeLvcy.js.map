{"version":3,"file":"login-BdFeLvcy.js","sources":["../../../../pages/login.vue"],"sourcesContent":["<script setup>\nimport { ref } from 'vue'\nimport { usePocketBase } from '@/composables/usePocketBase'\nimport { useRouter } from 'vue-router'\nimport { EventBus } from '~/event-bus'\nconst { t } = useI18n()\ndefinePageMeta({\n  layout: false,\n})\n\nconst email = ref('')\nconst password = ref('')\nconst isLoading = ref(false)\n\nconst { login } = usePocketBase()\nconst router = useRouter()\n\nconst handleLogin = async () => {\n  isLoading.value = true\n  try {\n    await login(email.value, password.value)\n    setTimeout(() => {\n      EventBus.emit('notify', {\n        type: 'success',\n        title: t('text.success'),\n        message: t('text.successLogin'),\n        action: 'close',\n      })\n    }, 500)\n\n    setTimeout(() => {\n      isLoading.value = false\n      router.push('/')\n    }, 1000)\n\n  } catch (err) {\n    setTimeout(() => {\n      EventBus.emit('notify', {\n        type: 'failure',\n        title: t('text.failure'),\n        message: `Usuario o clave no coinciden.`,\n        action: 'close',\n      })\n      isLoading.value = false\n    }, 3000)\n  }\n}\n</script>\n\n<template>\n  <div>\n    <NuxtLayout name=\"main\">\n      <div class=\"login-container relative w-full h-full flex items-center justify-center p-4 md:p-16\">\n        <div :class=\"[isLoading ? 'spin-3d' : '']\"\n          class=\" shadow-lg form-wrapper bg-opacity-25 bg-neutral-50 p-8 border border-neutral-900 transform transition-transform hover:scale-105 z-10 relative overflow-hidden\">\n          <h1 class=\"text-2xl font-bold mb-4\">Login</h1>\n          <form @submit.prevent=\"handleLogin\">\n            <div class=\"form-group mb-4\">\n              <label for=\"email\" class=\"block mb-2\">Email</label>\n              <input v-model=\"email\" type=\"email\" id=\"email\" required\n                class=\"text-neutral-900 w-full p-2 border border-neutral-900 bg-white outline-none focus:border-neutral-900\" />\n            </div>\n            <div class=\"form-group mb-6\">\n              <label for=\"password\" class=\"block mb-2\">Password</label>\n              <input v-model=\"password\" type=\"password\" id=\"password\" required\n                class=\"text-neutral-900 w-full p-2 border border-neutral-900 bg-white outline-none focus:border-neutral-900\" />\n            </div>\n            <button type=\"submit\"\n              class=\"text-neutral-900 bg-neutral-50 w-full h-12 flex items-center justify-center border border-neutral-900 transform transition-transform hover:text-black hover:font-bold hover:scale-90\">\n              Login\n            </button>\n          </form>\n        </div>\n      </div>\n    </NuxtLayout>\n  </div>\n</template>\n\n\n<style>\n@keyframes peek {\n\n  0%,\n  100% {\n    transform: translateY(100%);\n  }\n\n  50% {\n    transform: translateY(0%);\n  }\n}\n\n@keyframes spinY {\n  0% {\n    transform: rotateY(0deg);\n  }\n\n  100% {\n    transform: rotateY(360deg);\n  }\n}\n\n.spin-3d {\n  animation: spinY 2s linear infinite;\n  transform-style: preserve-3d;\n}\n</style>\n\n<style scoped>\n.form-wrapper:hover .cat-peek {\n  animation: peek 1s ease-in-out infinite;\n}\n\n@import 'tailwindcss/tailwind.css';\n</style>\n\n"],"names":["login"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,UAAM,EAAE,EAAG,IAAG,QAAS;AAKvB,UAAM,QAAQ,IAAI,EAAE;AACpB,UAAM,WAAW,IAAI,EAAE;AACvB,UAAM,YAAY,IAAI,KAAK;AAE3B,UAAM,EAAE,OAAAA,OAAO,IAAG,cAAe;AACjC,UAAM,SAAS,UAAW;AAE1B,UAAM,cAAc,YAAY;AAC9B,gBAAU,QAAQ;AAClB,UAAI;AACF,cAAMA,OAAM,MAAM,OAAO,SAAS,KAAK;AACvC,mBAAW,MAAM;AACf,mBAAS,KAAK,UAAU;AAAA,YACtB,MAAM;AAAA,YACN,OAAO,EAAE,cAAc;AAAA,YACvB,SAAS,EAAE,mBAAmB;AAAA,YAC9B,QAAQ;AAAA,UAChB,CAAO;AAAA,QACF,GAAE,GAAG;AAEN,mBAAW,MAAM;AACf,oBAAU,QAAQ;AAClB,iBAAO,KAAK,GAAG;AAAA,QAChB,GAAE,GAAI;AAAA,MAER,SAAQ,KAAK;AACZ,mBAAW,MAAM;AACf,mBAAS,KAAK,UAAU;AAAA,YACtB,MAAM;AAAA,YACN,OAAO,EAAE,cAAc;AAAA,YACvB,SAAS;AAAA,YACT,QAAQ;AAAA,UAChB,CAAO;AACD,oBAAU,QAAQ;AAAA,QACnB,GAAE,GAAI;AAAA,MACR;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}